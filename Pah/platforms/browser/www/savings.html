<ons-page id="savings">
  <ons-toolbar id="toolbar" class="toolbar" modifier="transparent">
    <div class="left">
      <ons-toolbar-button onclick="fn.open()">
        <i class="menuButtonIcon ion-md-menu"></i>
      </ons-toolbar-button>
    </div>
    <div class="center labelToolbar" id="titleSavings">FONDO</div>
  </ons-toolbar>

  <div id="savingMainContainer"></div>

  <!--
    <ons-button
      class="flatButton"
      style="margin-bottom: 16px"
      onclick="pushToDetailSaving()"
      >MODIFICAR</ons-button
    >
  -->

  <ons-fab position="bottom right" onclick="pushToDetailSaving()">
    <i class="icon ion-md-create" style="font-size: 35px;"></i>
  </ons-fab>

  <!--ALERT PARA AÑADIR UN GASTO-->
  <ons-alert-dialog id="alertToAddExpenseSaving" modifier="material">
    <div style="text-align: center; margin-top: 16px;">
      <div class="alert-dialog-title">Añadir nuevo gasto de mi fondo</div>
    </div>

    <div class="alert-dialog-content">
      <div style="text-align: center; margin-top: 16px;">
        <div style="text-align: left;">
          <label style="color: var(--alert-tile-color); margin-left: 12px;">CATEGORÍA: </label>
          <select id="selectOptioCa">
            <!--AQUI SE CARGAN LAS CATEGORÍAS-->
          </select>
        </div>

        <div>
          <p style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px">NOTA DEL GASTO</p>
          <ons-input
            id="alertExpenseNoteSaving"
            modifier="underbar"
            placeholder=""
            type="text"
            style="display: block;"
          ></ons-input>
        </div>

        <div>
          <p style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px">DINERO GASTADO</p>
          <ons-input
            id="alertExpenseMoneySaving"
            modifier="underbar"
            placeholder=""
            type="number"
            style="display: block;"
            disabled
          ></ons-input>
        </div>

        <div>
          <p style="margin: 0px auto -16px 12px; text-align: left; padding-top: 16px">FECHA DEL GASTO</p>
          <ons-input
            id="alertExpenseDateSaving"
            modifier="underbar"
            placeholder=""
            type="date"
            style="display: block;"
          ></ons-input>
        </div>

        <div style="margin-top: 16px; text-align: left;">
          <label style="color: var(--alert-tile-color); margin-left: 12px;">RESTAR A: </label>
          <select id="selectOption">
            <!--AQUI SE CARGAN LOS POSIBLES GASTOS-->
          </select>
        </div>
      </div>
    </div>

    <div class="alert-dialog-footer">
      <ons-alert-dialog-button onclick="hideAlertAddExpenseSavingNoChange()"
        >Cancelar</ons-alert-dialog-button
      >
      <ons-alert-dialog-button onclick="hideAlertAddExpenseSaving()"
        >Listo!</ons-alert-dialog-button
      >
    </div>
  </ons-alert-dialog>
  <!----------------------------------------------------------------->

  <!--ALERT PARA EDITAR DINERO-->
  <ons-alert-dialog id="alertEditSavingMoney" modifier="material">
    <div style="text-align: center; margin-top: 16px">
      <div class="alert-dialog-title">Añadir/Quitar dinero al fondo</div>
    </div>

    <div class="alert-dialog-content">
      <div style="text-align: center; margin-top: 16px">
        <p>
          <label style="color: var(--alert-custom-label)"
            >DINERO ACTUAL: $
            <label
              id="alertAddSaving"
              style="color: var(--alert-custom-label-money)"
              >0</label
            >
          </label>

          <div>
            <p style="margin: 0px auto -16px 12px; text-align: left;">QUIERO AÑADIR / QUITAR</p>
            <ons-input
              onchange="makeSavingOperation()"
              onkeypress="this.onchange()"
              oninput="this.onchange()"
              id="alertInputSaving"
              modifier="underbar"
              placeholder=""
              type="number"
              style="display: block; margin: -10px auto 16px"
            ></ons-input>
          </div>

          <label style="color: var(--alert-custom-label)"
            >CANTIDAD NUEVA: $
            <label
              id="alertAddSavingEnd"
              style="color: var(--alert-custom-label-money)"
              >0</label
            >
          </label>
        </p>
      </div>
    </div>

    <div class="alert-dialog-footer">
      <ons-alert-dialog-button onclick="closeAlertSavingNoChange()"
        >Cancelar</ons-alert-dialog-button
      >
      <ons-alert-dialog-button onclick="closeAlertSaving()"
        >Listo!</ons-alert-dialog-button
      >
    </div>
  </ons-alert-dialog>
  <!----------------------------------------------------------------->

    <!--ALERT PARA VER QUE HACER SI QUEDA DINERO DISPONIBLE-->
    <ons-alert-dialog id="alertMoneyLeft" modifier="material">
      <div style="text-align: center; margin-top: 16px">
        <div class="alert-dialog-title">Quedó dinero disponible, ¿qué quieres hacer con el?</div>
      </div>
  
      <div class="alert-dialog-content">
        <div style="text-align: center; margin-top: 16px;">
          <label style="color: var(--alert-custom-label)">DINERO RESTANTE: $ 
            <span id="leftMoneyToAlert" style="color: var(--alert-custom-label-money)"></span>
          </label>

          <ons-list style="background: none;">

            <ons-list-item tappable modifier="nodivider" onclick="checkRadioSelect('radio-1')">
              <label class="left">
                <ons-radio name="option" input-id="radio-1" checked></ons-radio>
              </label>
              <label for="radio-1" class="center daysTitle" style="text-align: left; margin: 0px;">
                Añadir al día siguiente
              </label>
            </ons-list-item>

            <ons-list-item tappable modifier="nodivider" onclick="checkRadioSelect('radio-2')">
              <label class="left">
                <ons-radio name="option" input-id="radio-2"></ons-radio>
              </label>
              <label for="radio-2" class="center daysTitle" style="text-align: left; margin: 0px;">
                Añadir a 'MI DINERO'
              </label>
            </ons-list-item>

            <div id="containerAlertAddMoneyLeft" style="text-align: center; margin-top: 16px;">
              <!-- AQUI SE CARGA LAS OPCIONES PARA DONDE AÑADIR-->
            </div>

          </ons-list>
        </div>
      </div>
  
      <div class="alert-dialog-footer">
        <ons-alert-dialog-button onclick="cancelAddLeftMoney()"
          >Cancelar</ons-alert-dialog-button
        >
        <ons-alert-dialog-button onclick="addToMoneyLeftMoney()"
          >Listo!</ons-alert-dialog-button
        >
      </div>
    </ons-alert-dialog>
    <!----------------------------------------------------------------->

  <script>
    document.addEventListener(
      "init",
      function (event) {
        if (event.target.matches("#savings")) {
          localStorage.setItem("actuaPage", "savings.html");

          loadSaving();
        }
      },
      false
    );
  </script>
</ons-page>
